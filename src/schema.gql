# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type AuthResponse {
  accessToken: String!
  user: User!
}

type Comment {
  commentId: ID!
  createdAt: DateTime!
  post: Post!
  text: String!
  user: User!
}

input CreateCommentInput {
  postId: Int!
  text: String!
  userId: Int!
}

input CreatePostInput {
  content: String!
  imageUrl: String
  isTop: Boolean! = false
  tags: [String!]!
  title: String!
}

input CreateUserInput {
  dateOfBirth: String!
  email: String!
  password: String!
  profilePictureUrl: String
  role: UserRole! = DEFAULT
  username: String!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

input FilterPostsInput {
  authorName: String
  containsText: String
  isTop: Boolean
  sortByCreatedAt: SortOrder
  sortByLikes: SortOrder
  sortByRelevance: SortOrder
  sortByTitle: SortOrder
  sortByViews: SortOrder
  title: String
}

input LoginInput {
  password: String!
  twoFactorCode: String
  username: String!
}

type Mutation {
  createComment(input: CreateCommentInput!): Comment!
  createPost(input: CreatePostInput!): Post!
  createUser(input: CreateUserInput!): User!
  deletePost(id: Int!): Boolean!
  deleteUser(id: Int!): Boolean!
  generate2FASecret: String!
  likePost(postId: Int!, userId: Int!): Post!
  login(input: LoginInput!): AuthResponse!
  updatePost(id: Int!, input: UpdatePostInput!): Post!
  updateUser(input: UpdateUserInput!): User!
}

type Post {
  authorId: Float!
  comments: [Comment!]
  content: String!
  createdAt: DateTime!
  imageUrl: String
  isPublished: Boolean!
  isTop: Boolean!
  likedBy: [User!]!
  postId: ID!
  tags: [String!]!
  title: String!
  translated: Translated
  updatedAt: DateTime!
  user: User!
  viewsCount: Float!
}

type PostsPage {
  items: [Post!]!
  page: Int!
  pageSize: Int!
  totalCount: Int!
  totalPages: Int!
}

type Query {
  commentsByPost(postId: Int!): [Comment!]!
  commentsByUser(userId: Int!): [Comment!]!
  didYouMean(query: String!): String
  post(id: Int!): Post!
  posts: [Post!]!
  postsPaginated(page: Int! = 1, pageSize: Int! = 12): PostsPage!
  searchPosts(filter: FilterPostsInput): [Post!]!
  topPosts(limit: Int! = 10, sortByCreatedAt: SortOrder): [Post!]!
  topPostsPaginated(
    page: Int! = 1
    pageSize: Int! = 12

    """Sort by createdAt"""
    sortByCreatedAt: SortOrder

    """Sort by viewsCount"""
    sortByViews: SortOrder
  ): PostsPage!
  user(id: Int!): User!
  users(filter: UserFilterInput): [User!]!
}

"""Ascending or Descending order"""
enum SortOrder {
  ASC
  DESC
}

type Translated {
  en: String
  ru: String
}

input UpdatePostInput {
  content: String
  imageUrl: String
  isTop: Boolean = false
  tags: [String!]
  title: String
}

input UpdateUserInput {
  dateOfBirth: String
  email: String
  id: Float!
  isTwoFactorEnabled: Boolean
  password: String
  profilePictureUrl: String
  role: UserRole = DEFAULT
  twoFactorSecret: String
  username: String
}

type User {
  createdAt: DateTime!
  dateOfBirth: String!
  email: String!
  isTwoFactorEnabled: Boolean!
  password: String!
  posts: [Post!]
  profilePictureUrl: String
  role: String!
  twoFactorSecret: String
  updatedAt: DateTime!
  userId: ID!
  username: String!
}

input UserFilterInput {
  role: String
  sortByCreatedAt: SortOrder
  sortByDateOfBirth: SortOrder
  sortByUsername: SortOrder
  username: String
}

enum UserRole {
  ADMIN
  DEFAULT
}